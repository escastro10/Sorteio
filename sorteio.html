<!DOCTYPE html>
<html>
<head>
  <title>Sorteio de Times</title>
  <link rel="stylesheet" href="estilo.css">

</head>
<body>
  <h1>Cadastro para Jogar Bola</h1>
  <form id="cadastroForm">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" required><br><br>
    
    <!-- <label for="idade">Idade:</label>
    <input type="number" id="idade" required><br><br>
    
    <label for="email">Email:</label>
    <input type="email" id="email" required><br><br> -->
    
    <input type="submit" value="Cadastrar">
  </form>

  <h2>Pessoas Cadastradas:</h2>
  <ul id="pessoasCadastradas"></ul>

  <h2>Times Sorteados:</h2>
  <ul id="timesSorteados"></ul>

  <button id="sortearButton">Sortear Times</button>

  <script>
    // Armazena as pessoas cadastradas
    var pessoas = [];

    // Função para cadastrar uma pessoa
    function cadastrarPessoa(event) {
      event.preventDefault(); // Impede o envio do formulário

      // Obtém os valores do formulário
      var nome = document.getElementById("nome").value;
      // var idade = document.getElementById("idade").value;
      // var email = document.getElementById("email").value;

      // Cria um objeto pessoa
      var pessoa = {
        nome: nome,
        // idade: idade,
        // email: email
      };

      // Adiciona a pessoa ao array de pessoas
      pessoas.push(pessoa);

      // Limpa os campos do formulário
      document.getElementById("nome").value = "";
      // document.getElementById("idade").value = "";
      // document.getElementById("email").value = "";

      // Atualiza a lista de pessoas cadastradas
      atualizarPessoasCadastradas();

      return false;
    }

    // Função para atualizar a lista de pessoas cadastradas
    function atualizarPessoasCadastradas() {
      var listaPessoas = document.getElementById("pessoasCadastradas");
      listaPessoas.innerHTML = "";

      // Cria um elemento <li> para cada pessoa cadastrada
      pessoas.forEach(function(pessoa) {
        var itemLista = document.createElement("li");
         itemLista.textContent = pessoa.nome ;
        listaPessoas.appendChild(itemLista);
      });
    }

    // Função para sortear os times
    function sortearTimes() {
      var timesSorteados = document.getElementById("timesSorteados");
      timesSorteados.innerHTML = "";

      // Verifica se há pessoas suficientes para formar times
      if (pessoas.length < 2) {
        var itemLista = document.createElement("li");
        itemLista.textContent = "É necessário pelo menos 2 pessoas cadastradas para sortear os times.";
        timesSorteados.appendChild(itemLista);
        return;
      }

      // Copia o array de pessoas para não alterar o original
      var pessoasSorteio = pessoas.slice();

      // Embaralha o array de pessoas para sortear aleatoriamente
      for (var i = pessoasSorteio.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = pessoasSorteio[i];
        pessoasSorteio[i] = pessoasSorteio[j];
        pessoasSorteio[j] = temp;
      }

      // Divide o array de pessoas em dois times
      var numTimes = Math.ceil(pessoasSorteio.length / 6);
      var jogadoresPorTime = Math.ceil(pessoasSorteio.length / numTimes);

      for (var k = 0; k < numTimes; k++) {
      var time = pessoasSorteio.slice(k * jogadoresPorTime, (k + 1) * jogadoresPorTime);

    // Cria um elemento <li> para cada time
      var itemListaTime = document.createElement("li");
      itemListaTime.textContent = "Time " + (k + 1) + ": " + time.map(function(pessoa) { return pessoa.nome; }).join(", ");
      timesSorteados.appendChild(itemListaTime);
    }
  }

    // Adiciona um ouvinte de evento para o formulário de cadastro
    var form = document.getElementById("cadastroForm");
    form.addEventListener("submit", cadastrarPessoa);

    // Adiciona um ouvinte de evento para o botão de sortear times
    var sortearButton = document.getElementById("sortearButton");
    sortearButton.addEventListener("click", sortearTimes);

  </script>
</body>
</html>