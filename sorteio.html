<!DOCTYPE html>
<html>
<head>
  <title>Sorteio de Times</title>
  <link rel="stylesheet" href="estilo.css">

</head>
<body>
  <h1>Cadastro para Jogar Bola</h1>
  <form id="cadastroForm">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" required><br><br>
    
    <label for="idade">Idade:</label>
    <input type="number" id="idade" required><br><br>
    
    <label for="email">Email:</label>
    <input type="email" id="email" required><br><br>
    
    <input type="submit" value="Cadastrar">
  </form>

  <h2>Pessoas Cadastradas:</h2>
  <ul id="pessoasCadastradas"></ul>

  <h2>Times Sorteados:</h2>
  <ul id="timesSorteados"></ul>

  <button id="sortearButton">Sortear Times</button>

  <script>
    // Armazena as pessoas cadastradas
    var pessoas = [];

    // Função para cadastrar uma pessoa
    function cadastrarPessoa(event) {
      event.preventDefault(); // Impede o envio do formulário

      // Obtém os valores do formulário
      var nome = document.getElementById("nome").value;
      var idade = document.getElementById("idade").value;
      var email = document.getElementById("email").value;

      // Cria um objeto pessoa
      var pessoa = {
        nome: nome,
        idade: idade,
        email: email
      };

      // Adiciona a pessoa ao array de pessoas
      pessoas.push(pessoa);

      // Limpa os campos do formulário
      document.getElementById("nome").value = "";
      document.getElementById("idade").value = "";
      document.getElementById("email").value = "";

      // Atualiza a lista de pessoas cadastradas
      atualizarPessoasCadastradas();

      return false;
    }

    // Função para atualizar a lista de pessoas cadastradas
    function atualizarPessoasCadastradas() {
      var listaPessoas = document.getElementById("pessoasCadastradas");
      listaPessoas.innerHTML = "";

      // Cria um elemento <li> para cada pessoa cadastrada
      pessoas.forEach(function(pessoa) {
        var itemLista = document.createElement("li");
        itemLista.textContent = pessoa.nome + " (Idade: " + pessoa.idade + ", Email: " + pessoa.email + ")";
        listaPessoas.appendChild(itemLista);
      });
    }

    // Função para sortear os times
    function sortearTimes() {
      var timesSorteados = document.getElementById("timesSorteados");
      timesSorteados.innerHTML = "";

      // Verifica se há pessoas suficientes para formar times
      if (pessoas.length < 2) {
        var itemLista = document.createElement("li");
        itemLista.textContent = "É necessário pelo menos 2 pessoas cadastradas para sortear os times.";
        timesSorteados.appendChild(itemLista);
        return;
      }

      // Copia o array de pessoas para não alterar o original
      var pessoasSorteio = pessoas.slice();

      // Embaralha o array de pessoas para sortear aleatoriamente
      for (var i = pessoasSorteio.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = pessoasSorteio[i];
        pessoasSorteio[i] = pessoasSorteio[j];
        pessoasSorteio[j] = temp;
      }

      // Divide o array de pessoas em dois times
      var meio = Math.ceil(pessoasSorteio.length / 2);
      var time1 = pessoasSorteio.slice(0, meio);
      var time2 = pessoasSorteio.slice(meio);

      // Cria um elemento <li> para cada time
      var itemListaTime1 = document.createElement("li");
      itemListaTime1.textContent = "Time 1: " + time1.map(function(pessoa) { return pessoa.nome; }).join(", ");
      timesSorteados.appendChild(itemListaTime1);

      var itemListaTime2 = document.createElement("li");
      itemListaTime2.textContent = "Time 2: " + time2.map(function(pessoa) { return pessoa.nome; }).join(", ");
      timesSorteados.appendChild(itemListaTime2);
    }

    // Adiciona um ouvinte de evento para o formulário de cadastro
    var form = document.getElementById("cadastroForm");
    form.addEventListener("submit", cadastrarPessoa);

    // Adiciona um ouvinte de evento para o botão de sortear times
    var sortearButton = document.getElementById("sortearButton");
    sortearButton.addEventListener("click", sortearTimes);

  </script>
</body>
</html>